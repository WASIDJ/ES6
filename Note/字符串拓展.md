- 感觉很有用,但不用记忆太多.
- `内放${param1}模板${param2}` 两个参数 `literals` 和 `...values`
## `Unicode` 表示法
- JavaScript 共有 6 种方法可以表示一个字符
```js
'\z' === 'z'  // true
'\172' === 'z' // true
'\x7A' === 'z' // true
'\u007A' === 'z' // true
'\u{7A}' === 'z' // true
```
- ES6 为字符串添加了遍历器接口（详见《Iterator》一章），使得字符串可以被for...of循环遍历。
```js
let text = String.fromCodePoint(0x20BB7);
for (let i = 0; i < text.length; i++) {
  console.log(text[i]);
}
// " "
// " "
for (let i of text) {
  console.log(i);
}
// "𠮷"
```
## 直接输入 U+2028 和 U+2029
- `JavaScript` 规定有5个字符，不能在字符串里面直接使用，只能使用转义形式。
    - U+005C：反斜杠（reverse solidus）
    - U+000D：回车（carriage return）
    - U+2028：行分隔符（line separator）
    - U+2029：段分隔符（paragraph separator）
    - U+000A：换行符（line feed）

- 其中，U+2028 和 U+2029 是`Unicode` 标准规定的换行符，`JavaScript` 允许在字符串里直接使用这两个字符。`JSON.parse` 方法会报错(现在不会报错了)，因为这两个字符不是合法的 JSON 字符串。

## 模板编译
`./src/str/compiler.js`
- 类似各种framework的 编译

## `tag`templator
- 主要应用: `i18n` 国际化
# `regex` 扩展
- `\p` 拓展 `Unicode` 属性类(`\P`表示不匹配) **非常好用**
    - `\p{UnicodeProperty}` 和 `\P{UnicodeProperty}` 分别表示匹配和不匹配某个 Unicode 属性的字符。
    - 例如，`\p{Script=Hiragana}` 可以匹配所有日文平假名字符，`\p{Script=Katakana}` 可以匹配所有日文片假名字符，`\p{Script=Han}` 可以匹配所有汉字字符。
    - 需要加上 `u` 标志,否则报错
- 先行断言（lookahead）和后行断言（lookbehind）(PS: 先有右后左)
    - 先行断言：`(?=...)` 和 `(?!...)`
    - 后行断言：`(?<=...)` 和 `(?<!...)`
    - NOTE: “零宽度”（Zero-width） 断言,不消耗字符
- NOTE:
  - `.`代表任意字符 除了 `utf-16` (/u解决) ; `line terminator character`(`\r` `\n` `\u2028` `\u2029`) (现在由 ES2018 解决,加上 `/s` 标志)
  - 支持 集合运算 `--` 交集 `&&` 补集 `^` (ES2018)
  - 具名匹配 `(?<name>...)` 和 `(?<name>...)` (ES2018)`.groups.name` 属性
    - 结合解构赋值 `let {groups: {year, month, day}} = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/.exec('2015-01-02');` **非常好用**
    - 内部引用 `\k<name>` (ES2018) (`eg`: `/(?<word>\w+)\s+\k<word>/` 可以匹配重复出现的单词)
### `y` 标志
- `y` 标志表示“粘连”（sticky），与 `g` 标志类似，也是全局匹配，但是后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，`g` 标志只要匹配到一个，就会继续搜索，而 `y` 标志必须从开始位置就匹配到，否则就会停止。
- 用于 实现字符串的 `tokenize` 分词功能 存在 `.sticky` 属性
- `.flag`属性用来 表示正则表达式的 修饰符
### `d` 标志
- `d` 标志表示“生成索引”（indices），它会在匹配结果中添加一个 `indices` 属性，表示匹配到的子串在原字符串中的起止位置。

## 参考
---
- [i18n具体的实现案例](https://juejin.cn/post/7525808837161828378)

## 技巧
- 迭代器 转数组 `Array.from(iterable)` 或 `[...iterable]`

## 问题:
1. 指定函数作为替代项,这个函数的参数是固定的,就像我之前说的replacer那样-- 回调签名的插件
2. 迭代器: `Symbol.iterator` 这个属性是一个函数,调用这个函数会返回一个迭代器对象,这个对象有一个 `next()` 方法,每次调用这个方法会返回一个对象,这个对象有两个属性: `value` 和 `done`. `value` 是当前的值, `done` 是一个布尔值,表示是否已经遍历完了所有的值. 实现迭代器 协议的 对象,都可以使用 `for...of` 循环遍历.